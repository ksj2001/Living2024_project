<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
	<div class="findPwContainer">
        <div class="contents">
            <div class="title">
                <h2>비밀번호 찾기</h2>
            </div>
            <form action="MemberFindPwProc.do" name="formname" method="post">
            	<input id="mdto" value="${mdto}" type="hidden">
                <div class="memberArea">
                    <div class="typeMember">
                        <ul>
                        	<li class="id">
                                <strong class="term">질문</strong>
                                <div class="desc">${mdto.m_pwq}</div>
                            </li>
                            <li class="name">
                                <strong class="term">답변</strong>
                                <div class="desc">
                                    <input id="pwa" name="pwa" type="text">
                                </div>
                            </li>
                        </ul>
                    </div>
                    <div class="btnBox">
                        <input type="button" class="submitBtn" onclick="checkFindPwq()" value="확인">
                    </div>
                </div>
            </form>
        </div>
    </div>
    <script>
        function checkFindPwq(){
            let formname = document.formname;

            let id = document.getElementById('id');
            if(id.value === ""){
			    alert('답변 항목은 필수 입력값입니다.');
			    return;
		    }
            if(!regId.test(id.value)){
    			alert('아이디 항목이 아이디 형식이 아닙니다.');
    			return;
    		}
            
            
            let name = document.getElementById('name');
            if(name.value === ""){
			    alert('이름을 입력해주세요.');
			    return;
		    }
            
            if(!emailDiv.classList.contains('hidden')){
                let type="email";
                let email = document.getElementById('email');

                if(email.value === ""){
			        alert('이메일을 입력하세요.');
			        return;
		        }
                if(!regEmail.test(email.value)){
			        alert('이메일 항목이 이메일 형식이 아닙니다.');
			        return;
		        }
            }else{
                let phone1 = document.getElementById('phone1');
                let phone2 = document.getElementById('phone2');
                let phone3 = document.getElementById('phone3');
    	        let phone = phone1.value+"-"+phone2.value+"-"+phone3.value;

    	        console.log(phone);
                if(phone2.value === "" || phone3.value === ""){
			        alert('휴대폰 번호를 입력하세요.');
			        return;
		        }
                if(!regPhone.test(phone)){
			        alert('올바른 형식의 휴대전화 번호를 입력해주십시오.');
			        return;
		        }
            }

            formname.submit();
        }
    </script>
</body>
</html>